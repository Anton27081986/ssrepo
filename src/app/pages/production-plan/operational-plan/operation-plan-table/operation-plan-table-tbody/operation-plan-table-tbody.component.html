@for (row of data(); track row.id; let idxRow = $index) {
	<tr ssTr>
		@for (column of visibleColumns(); track column.id) {
			@if (!column.subColumns?.length && !column.subGroups?.length) {
				<td
					*ssCell="column.id"
					ssTd
					class="item-td"
					[style.min-width.px]="
						column.id.startsWith('planQuantity') ? 120 : 80
					"
				>
					@if (column.id === 'tov') {
						<div class="item-tov">
							<ss-lib-checkbox
								[formControl]="getRowCheckboxControl(idxRow)"
							></ss-lib-checkbox>
							<ss-lib-text
								class="item-tov__text"
								[type]="TextType.BodySm"
								[weight]="TextWeight.Regular"
								[align]="Align.Start"
							>
								{{ getCellValue(row, column.id) }}
							</ss-lib-text>
							<ss-lib-button
								[icon]="IconType.Message"
								[size]="ExtraSize.xxs"
								[type]="ButtonType.Secondary"
								[popoverTriggerFor]="
									!row.isComment
										? addCommentsModal
										: createCommentsModal
								"
							>
							</ss-lib-button>
							<ss-lib-dropdown-list
								#createCommentsModal
								[height]="'100%'"
								[width]="'449px'"
							>
								<app-create-comments-modal
									[data]="row.id"
								></app-create-comments-modal>
							</ss-lib-dropdown-list>
							<ss-lib-dropdown-list
								#addCommentsModal
								[height]="'100%'"
								[width]="'449px'"
							>
								<app-add-comments-modal
									[data]="row.id"
								></app-add-comments-modal>
							</ss-lib-dropdown-list>
						</div>
					} @else if (
						column.id === 'optimalBatch' ||
						column.id.startsWith('week') ||
						column.id.startsWith('month')
					) {
						<ss-lib-text
							[type]="TextType.BodySm"
							[weight]="TextWeight.Regular"
							[align]="Align.End"
						>
							{{ getCellValue(row, column.id) }}
						</ss-lib-text>
					} @else if (
						(column.id.startsWith('planQuantity') ||
							column.id.startsWith('factQuantity')) &&
						operationPlanState.getHasPermissionEdit
					) {
						@if (column.id.startsWith('planQuantity')) {
							<ss-lib-button
								class="postpone-button"
								[type]="ButtonType.Secondary"
								[size]="ExtraSize.xxs"
								[iconPosition]="IconPosition.OnlyIcon"
								[icon]="IconType.CornerUpRight"
								(click)="
									openPostponePlanModal(row);
									$event.stopPropagation()
								"
							></ss-lib-button>
						}
						<input
							#quantityInput
							class="quantity-input"
							type="number"
							[value]="getCellValue(row, column.id)"
							(focusout)="editPlanFact($event, row, column.id)"
							(keyup.enter)="quantityInput.blur()"
						/>
					} @else {
						<ss-lib-text
							[type]="TextType.BodySm"
							[weight]="TextWeight.Regular"
							[align]="Align.Start"
						>
							{{ getCellValue(row, column.id) }}
						</ss-lib-text>
					}
				</td>
			}
		}
	</tr>
}
