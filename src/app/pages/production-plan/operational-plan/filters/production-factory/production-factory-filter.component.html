<div class="production-factory-filter">
	<ss-lib-form-field
		[icon]="IconType.Search"
		[clearButton]="true"
		[clearButtonSize]="ExtraSize.xs"
	>
		<ss-lib-input
			[size]="ExtraSize.md"
			fieldCtrl
			[placeholder]="'Поиск'"
			[formControl]="queryControl"
		></ss-lib-input>
	</ss-lib-form-field>
	<ss-lib-scrollbar>
		<div class="production-factory-filter__content">
			<ss-lib-dropdown-item
				*ngIf="indeterminate()"
				(click)="controlsClearAll.setValue(true)"
			>
				<ss-lib-checkbox
					[indeterminate]="indeterminate()"
					[formControl]="controlsClearAll"
				></ss-lib-checkbox>
				<ss-lib-text
					[type]="TextType.BodySm"
					[weight]="TextWeight.Medium"
					[color]="Colors.TextAction2"
					>{{ indeterminateText() }}
				</ss-lib-text>
			</ss-lib-dropdown-item>

			<ss-lib-dropdown-item
				(click)="unSelectedItem(item)"
				*ngFor="let item of viewSelectedItems$ | async"
			>
				<ss-lib-checkbox [formControl]="item.control"></ss-lib-checkbox>
				<ss-lib-text
					[type]="TextType.BodySm"
					[weight]="TextWeight.Medium"
					[color]="Colors.TextAction2"
					>{{ item.item.name }}
				</ss-lib-text>
			</ss-lib-dropdown-item>
			<div
				*ngIf="(selectedItems$ | async)?.length"
				class="production-factory-filter-divider"
			>
				<ss-lib-divider></ss-lib-divider>
			</div>
			<ss-lib-dropdown-item
				(click)="selectedItem(item)"
				*ngFor="let item of unSelectedItems$ | async"
			>
				<ss-lib-checkbox></ss-lib-checkbox>
				<ss-lib-text
					[type]="TextType.BodySm"
					[weight]="TextWeight.Medium"
					[color]="Colors.TextAction2"
					>{{ item.item.name }}
				</ss-lib-text>
			</ss-lib-dropdown-item>
		</div>
	</ss-lib-scrollbar>
</div>
