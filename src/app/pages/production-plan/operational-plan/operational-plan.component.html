<ss-lib-table-filters-canvas
	[tableRef]="tableRef"
	[leftFiltersRef]="leftFiltersRef"
	[rightFiltersRef]="rightFiltersRef"
	[paginationRef]="paginationRef">
</ss-lib-table-filters-canvas>

<ng-template #tableRef>
	<ng-container *ngIf="items$ | async as items">
		<app-operation-plan-table
			[daysTotal]="(daysTotal$ | async)!"
			[planItems]="items">
		</app-operation-plan-table>
	</ng-container>
</ng-template>
<ng-template #leftFiltersRef>
	<ng-container *ngIf="weeks$ | async as weeks">
		<ss-lib-button [iconPosition]="IconPosition.Start"
					   [icon]="IconType.Trash"
					   [popoverTriggerFor]="listActions" [type]="ButtonType.Secondary"
					   [text]="(activeWeek$ | async)?.name">

			<ss-lib-icon [icon]="IconType.ChevronDown" [width]="'20'" [height]="'20'"></ss-lib-icon>
		</ss-lib-button>
		<ss-lib-dropdown-list [height]="'274px'" [width]="'236px'" #listActions>
			<ss-lib-dropdown-item *ngFor="let week of weeks"
								  [label]="week.name"
								  (click)="selectWeek(week)"
			/>
		</ss-lib-dropdown-list>
	</ng-container>
	<ss-lib-button [text]="'2-я модалка'" (click)="openPostponePlanModal(12)"></ss-lib-button>
</ng-template>
<ng-template #rightFiltersRef>
	<app-filters-trigger-button></app-filters-trigger-button>
</ng-template>
<ng-template #paginationRef>
	<ss-lib-load-pagination [total]="total" [limit]="10" [offsetInput]="offset$.value"
							(changeOffset)="changeOffset($event)"></ss-lib-load-pagination>
</ng-template>