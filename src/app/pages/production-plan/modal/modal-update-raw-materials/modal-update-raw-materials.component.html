<ss-lib-modal
	[badgeProps]="{
		icon: IconType.PackagePlus,
		size: ExtraSize.lg,
		shape: Shape.Square,
	}"
	[titleHeader]="
		'Расчет сырья за ' + (data.day ? (data.day | date: 'd MMMM y') : '')
	"
	[descriptionHeader]="'Выберите вариант расчета сырья для выбранных ГП'"
	[contentRef]="contentRef"
	[actionsRef]="actionRef"
	(closeEmit)="close()"
	[paddingContent]="'24px'"
>
</ss-lib-modal>

<ng-template #contentRef>
	<div class="modal-update-raw-materials">
		<ss-lib-text
			[color]="Colors.TextBody2"
			[type]="TextType.BodySm"
			>Вариант расчета</ss-lib-text
		>
		<ss-lib-button
			[justifyContent]="JustifyContent.SpaceBetween"
			[iconPosition]="IconPosition.End"
			[icon]="IconType.ChevronDown"
			[type]="ButtonType.Secondary"
			[popoverTriggerFor]="list"
			[text]="
				selectedItem()
					? selectedItem()!.name
					: 'Выберите вариант расчета'
			"
		></ss-lib-button>

		<ss-lib-dropdown-list
			#list
			[width]="'535px'"
			[height]="'274px'"
		>
			<ss-lib-dropdown-item
				*ngFor="let item of calcVariants()"
				[selected]="item.id === selectedItem()?.id"
				[label]="item.name"
				(click)="selectCalcVariant(item)"
			/>
		</ss-lib-dropdown-list>
	</div>
</ng-template>

<ng-template #actionRef>
	<div class="modal-update-raw-materials__actions">
		<ss-lib-button
			[style.width]="'262px'"
			[type]="ButtonType.Secondary"
			[text]="'Отменить'"
			(click)="close()"
		></ss-lib-button>
		<ss-lib-button
			[style.width]="'262px'"
			[type]="ButtonType.Primary"
			[text]="'Рассчитать для ' + data.total + ' ГП'"
			(click)="updateRawMaterial()"
		></ss-lib-button>
	</div>
</ng-template>
