<ng-container *ngFor="let cols of columnsStateService.colsTr$ | async">
		<ng-container *ngFor="let col of cols.cols">
			<ng-container [formGroup]="tovNode().tovSignal().params" *ngIf="col.display" [ngSwitch]="col.id">
				<td class="ss-table-td">
					<ng-container *ngSwitchCase="ExcessIncomeClientRowItemField.comments">
						<div class="ss-table-td__content">
							<ss-text>{{ tovNode().tovSignal().comment.value }}</ss-text>
							<ss-dropdown-button *ngIf="tovNode().tovSignal().id != 0" [title]="'Ред.ком'">
								<ss-textarea [formControl]="tovNode().tovSignal().comment"></ss-textarea>
								<ss-button (click)="tovNode().updateComment();$event.stopPropagation()">откоментировать
								</ss-button>
							</ss-dropdown-button>
						</div>
					</ng-container>

				<ng-container *ngSwitchCase="ExcessIncomeClientRowItemField.nameTov">
					<div class="ss-table-td__content">
						<ss-text> {{ tovNode().tovSignal().tov.name }}</ss-text>
						<ss-icon class="ss-table-td__content__history" name="checks" (click)="$event.stopPropagation(); openSalesHistory()"></ss-icon>
						<ss-icon class="ss-table-td__content__history" name="clock" (click)="$event.stopPropagation(); openPriceHistory()"></ss-icon>
					</div>
				</ng-container>

					<ng-container formGroupName="currentParams">
						<ng-container *ngSwitchCase="ExcessIncomeClientRowItemField.priceCurrent">
							<ss-text> {{ tovNode().tovSignal().params.controls.currentParams.controls.price.value }} {{ tovNode().currencySignal().name }}</ss-text>
						</ng-container>

						<ng-container *ngSwitchCase="ExcessIncomeClientRowItemField.sndCurrent">
							<ss-number-input-v2 (click)="$event.stopPropagation()" [maskito]="numberInputTextMask"
												formControlName="excessIncomePercent"></ss-number-input-v2>
							<ss-button (click)="tovNode().updateTov();$event.stopPropagation()"
									   *ngIf="tovNode().tovSignal().params.controls.currentParams.controls.excessIncomePercent.valid">
								+
							</ss-button>
						</ng-container>
						<ng-container *ngSwitchCase="ExcessIncomeClientRowItemField.priceFixCurrent">
							<ss-number-input-v2 (click)="$event.stopPropagation()" [maskito]="numberInputTextMask"
												formControlName="fixPrice"></ss-number-input-v2>
							<ss-button (click)="tovNode().updateTov();$event.stopPropagation()"
									   *ngIf="tovNode().tovSignal().params.controls.currentParams.controls.fixPrice.valid">
								+
							</ss-button>
						</ng-container>

						<ng-container *ngSwitchCase="ExcessIncomeClientRowItemField.priceCalculateCurrent">
							<ss-text> {{ tovNode().tovSignal().params.controls.currentParams.controls.finalPrice.value | numWithSpaces:3 }}</ss-text>
						</ng-container>
					</ng-container>

					<ng-container formGroupName="nextParams">
						<ng-container *ngSwitchCase="ExcessIncomeClientRowItemField.priceNext">
							<ss-text> {{ tovNode().tovSignal().params.controls.nextParams.controls.price.value }} {{ tovNode().currencySignal().name }}</ss-text>
						</ng-container>

						<ng-container *ngSwitchCase="ExcessIncomeClientRowItemField.sndNext">
							<ss-number-input-v2 (click)="$event.stopPropagation()" [maskito]="numberInputTextMask"
												formControlName="excessIncomePercent"></ss-number-input-v2>
							<ss-button (click)="tovNode().updateTov();$event.stopPropagation()"
									   *ngIf="tovNode().tovSignal().params.controls.nextParams.controls.excessIncomePercent.valid">
								+
							</ss-button>
						</ng-container>

						<ng-container *ngSwitchCase="ExcessIncomeClientRowItemField.priceFixNext">
							<ss-number-input-v2 (click)="$event.stopPropagation()" [maskito]="numberInputTextMask"
												formControlName="fixPrice"></ss-number-input-v2>
							<ss-button (click)="tovNode().updateTov();$event.stopPropagation()"
									   *ngIf="tovNode().tovSignal().params.controls.nextParams.controls.fixPrice.valid"> +
							</ss-button>
						</ng-container>

						<ng-container *ngSwitchCase="ExcessIncomeClientRowItemField.priceCalculateNext">
							<ss-text> {{ tovNode().tovSignal().params.controls.nextParams.controls.finalPrice.value | numWithSpaces:3 }}</ss-text>
						</ng-container>
					</ng-container>

					<ng-container *ngSwitchDefault>
						&nbsp;
					</ng-container>

				</td>
			</ng-container>
		</ng-container>
	</ng-container>
