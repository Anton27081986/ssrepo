<div
	class="wrapper"
	(mousedown)="close()"
>
	<snab-card
		class="set-provision-date-form"
		[headerRef]="header"
		[bodyRef]="body"
		[footerRef]="footer"
		(mousedown)="$event.stopPropagation()"
	>
		<ng-template #header>
			<div class="header">
				<snab-text
					[type]="TextType.Title"
					[weight]="TextWeight.Medium"
				>
					Назначить дату обеспечения для группы
				</snab-text>
				<snab-button
					[type]="ButtonType.Flat"
					[size]="Size.Large"
					[icon]="IconType.ClearLarge"
					[iconPosition]="IconPosition.OnlyIcon"
					(click)="close()"
				></snab-button>
			</div>
		</ng-template>
		<ng-template #body>
			<form
				class="content"
				[formGroup]="provisionForm"
			>
				<snab-text
					[type]="TextType.Title"
					[weight]="TextWeight.Regular"
				>
					Дата обеспечения
				</snab-text>
				<ss-date-time-picker
					formControlName="provisionDate"
					[showTime]="false"
					[error]="
						provisionForm.get('provisionDate')?.touched &&
						provisionForm.get('provisionDate')?.errors?.required
							? 'Обязательное поле'
							: undefined
					"
					(click)="
						provisionForm.get('provisionDate')?.setErrors(null)
					"
				></ss-date-time-picker>
			</form>
		</ng-template>
		<ng-template #footer>
			<div class="footer">
				<snab-button
					text="Отмена"
					[type]="ButtonType.Secondary"
					[size]="Size.Large"
					(click)="close()"
				></snab-button>
				<snab-button
					text="Назначить"
					[size]="Size.Large"
					(click)="onSetProvisionDate()"
				></snab-button>
			</div>
		</ng-template>
	</snab-card>
</div>
