<div class="add-modal">
  <div>
    <form nz-form [formGroup]="addVictory" nzLayout="vertical" class="form">

      <nz-form-item>
        <!--      nzErrorTip="Введите достижение"-->
        <nz-form-control>
        <span class="field-tile">Описание:</span>
        <div class="textarea">
          <textarea nz-input formControlName="comment" placeholder="Поделитесь своим достижением" [nzAutosize]="{ minRows: 4, maxRows: 7 }"></textarea>
          <div class="icon-bg attach" *ngIf="false">
            <span class="attach-icon icon" nz-icon [nzType]="'ss:attach'"></span>
          </div>
        </div>

        <div class="checkbox-group">
          <label nz-checkbox [(ngModel)]="joinWin" [ngModelOptions]="{ standalone: true }" class="join-win">Совместная победа</label>
        </div>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-control>

        <nz-select
          nzShowSearch
          nzServerSearch
          nzPlaceHolder="Выберите ваших коллег из списка или введите фамилию"
          [(ngModel)]="selectedUser"
          (ngModelChange)="onUserChange()"
          [nzShowArrow]="true"
          (nzOnSearch)="searchUsers($event)"
          [ngModelOptions]="{ standalone: true }"
        >
          <nz-option *ngFor="let user of listColleague" [nzLabel]="user.name" [nzValue]="user.id"></nz-option>
        </nz-select>
        </nz-form-control>
      </nz-form-item>

      <div class="tag-selected-name" *ngIf="partyWinSelectedTags">
        <ng-container *ngFor="let party of partyWinSelectedTags; index as i">
          <div class="item-tag">
            <span>{{ party?.name }}</span>
            <span class="close-icon icon close-tag" nz-icon [nzType]="'ss:iconClose'" (click)="deleteTagUser(i)"></span>
          </div>
        </ng-container>
      </div>

      <nz-form-item>
        <nz-form-control>
        <nz-select
          nzShowSearch
          nzServerSearch
          nzPlaceHolder="Укажите ТПР"
          [(ngModel)]="selectedTpr"
          (ngModelChange)="onTprChange()"
          [nzShowArrow]="true"
          (nzOnSearch)="searchTpr($event)"
          [ngModelOptions]="{ standalone: true }"
        >
          <nz-option *ngFor="let user of listTPR" [nzLabel]="user.name" [nzValue]="user.id"></nz-option>
        </nz-select>
        </nz-form-control>
      </nz-form-item>

<!--      <div *ngIf="errorState" class="error-message">-->
<!--        <span>Неверный логин или пароль</span>-->
<!--      </div>-->

      <div class="tag-selected-name" *ngIf="tprSelectedTags">
        <div class="item-tag" *ngFor="let tpr of tprSelectedTags; index as i">
          <span>{{ tpr?.name }}</span>
          <span class="close-icon icon close-tag" nz-icon [nzType]="'ss:iconClose'" (click)="deleteTagTpr(i)"></span>
        </div>
      </div>

    </form>
    <ng-template #prefixUser>
      <i nz-icon nzType="user"></i>
    </ng-template>
  </div>

  <div class="footer-form">
    <div *nzModalFooter>
      <button nz-button nzType="default" (click)="handleCancel()" *ngIf="false">Отменить</button>
      <div class="send d-flex justify-content-center">
        <div class="">
          <button nz-button nzType="primary" class="login-form-button" (click)="handleOk()" [nzLoading]="isConfirmLoading">Добавить победу</button>
        </div>
      </div>
    </div>
  </div>

</div>
